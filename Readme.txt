# EXぜろちゃんねる 
HP: https://prefkarafuto.github.io/ExZeroChannel/
GitHub: https://github.com/PrefKarafuto/ex0ch/

<<<<<<< HEAD
ぜろちゃんねるプラス Ver0.8.3
https://github.com/PrefKarafuto/New_0ch_Plus/

■はじめに
  このファイルは、2002年に開発開始された「ぜろちゃんねる(http://0ch.mine.nu/)」のスクリプトを２ちゃんねる仕様に改造するという
  目的で2010年はじまったプロジェクト「ぜろちゃんねるプラス(http://zerochplus.osdn.jp/)」がv0.7.4で開発停止したことを受けて
  2023年に発足した「ぜろちゃんねるプラス再開発プロジェクト」による、スクリプト取扱説明書です。
　このファイルは本家ぜろちゃんねるの/readme/readme.txtを元に編集された0ch+の/Readme/Readme.txtから作成しており、一部原文
  ままの部分があります。
  
■ぜろちゃんねるプラス(v0.8.x)とは
  スレッドフロート型掲示板を動作させるPerlスクリプトとして製作されたぜろちゃんねるの機能改善版「ぜろちゃんねるプラス」の有志再開発版です。
  これまでのぜろちゃんねるプラスと同じく５ちゃんねる専用ブラウザでも書き込みと閲覧、またv0.7.4(v0.7.5)からのアップデートが可能です。
  
■動作環境
  ★必須環境
    ・CGIの動作が可能なHTTPDが入っており，Perl 5.8以上(Perl 6は含まない)もしくはそのディ
      ストリビューション系ソフトウェアが動作するOS
    ・5MB以上のディスクスペース 
  ★推奨環境
    ・suEXECでCGI動作が可能なApache HTTP Serverが入っており，Perl 5.8以上(Perl 6は含まな
      い)が動作するUNIX系もしくはLinux系のOS
    ・10MB以上のディスクスペース
    
■配布ファイル構成
zerochplus_0.8.2/
 + test/                      - ぜろちゃんねるプラス動作ディレクトリ
    + *.cgi                   - 基本動作用CGI
    + datas/                  - 初期データ・固定データ格納用
    |  + 1000.txt
    |  + 2000000000.dat
    |  :
    + info/
    |  + category.cgi         - 掲示板カテゴリの初期定義ファイル
    |  + errmes.cgi           - エラーメッセージ定義ファイル
    |  + users.cgi            - 初期ユーザ(Administrator)定義ファイル
    + module/
    |  + *.pl                 - ぜろちゃんねるモジュール
    + admin/
    |  + *.pl                 - 管理CGI用モジュール
    + plugin/
    |  + 0ch_*_utf8.pl        - プラグインスクリプト
    + plugin_conf/
    |  + *.cgi                - プラグイン設定情報ファイル
    + perllib/
       + *                    - ぜろちゃんねるプラスに必要なパッケージ
       
       以下ぜろちゃんねるプラスのReadme.txtから引用
■設置方法概略
　Wikiにて画像つきの設置方法の解説を公開しています。
  ・Install - ぜろちゃんねるプラス Wiki
    http://sourceforge.jp/projects/zerochplus/wiki/Install

1.スクリプト変更

	・構成ファイルtest直下の.cgiファイルを開き、1行目に書いてあるperlパス
	  を環境に合わせて変更します。
	
	※以下のようになっている場所を変更します。
	
		#!/usr/bin/perl

2.スクリプトアップロード

	・構成ファイルのtest以下すべてを設置サーバにアップロードします。
	・アップロード後パーミッションを適切な値に設定します。
	
	※パーミッションの値については以下のページを参照
	・Permission - ぜろちゃんねるプラス
	  http://sourceforge.jp/projects/zerochplus/wiki/Permission

3.設定

	・[設置サーバ]/test/admin.cgiにアクセスします。
	・ユーザ名"Administrator",パス"zeroch"でログインします。
	・画面上部の"システム設定"メニューを選択します。
	・画面左側の"基本設定"メニューを選択します。
	・項目[稼動サーバ]を適切な値に設定し、[設定]ボタンを押します。
	・再度画面左側の"基本設定"メニューを選択して、稼動サーバが更新されていることを確認し
	  てください。
	  （もしされていない場合はパーミッションの設定に問題があるかもしれません）
	・画面上部の"ユーザー"メニューを選択します。
	・画面中央の[User Name]列の"Administrator"を選択します。
	・ユーザ名、パスワードを変更して[設定]ボタンを押します。
	・画面上部の"ログオフ"を選択します。

4.掲示板作成

	・先ほど設定した管理者ユーザでログインします。
	・画面上部の"掲示板"メニューを選択します。
	・画面左側の"掲示板作成"メニューを選択します。
	・必要項目を記入して[作成]ボタンを押します。

5.掲示板設定

	・画面上部の"掲示板"メニューを選択します。
	・掲示板一覧より、設定する掲示板を選択します。
	・画面上部の"掲示板設定"を選択します。
	・各項目を設定します。

-----------------------------------------------------------------------
※注意：
	・設置後のAdministratorユーザは必ず変更を行ってください。設置直後は
	  ユーザ名とパスワードが固定なので、放置しておくと管理者以外に管理
	  権限でログインされてしまう危険があります。
-----------------------------------------------------------------------
=======
本スクリプトは、2002年に開発開始された「ぜろちゃんねる(http://0ch.mine.nu/)」スクリプトを２ちゃんねる仕様に改造するという目的で
2010年はじまったプロジェクト「ぜろちゃんねるプラス(http://zerochplus.osdn.jp/)」がv0.7.4で開発停止したことを受けて、
2023年に発足した「ぜろちゃんねるプラス再開発プロジェクト」が、ぜろちゃんねるプラスからフォークし開発を行っています。

これまでのぜろちゃんねるプラスと同じく５ちゃんねる専用ブラウザでも書き込みと閲覧、またv0.7.4(v0.7.5)からのアップデートが可能です。
>>>>>>> main


## インストール

システム要件:
- suEXECでCGI動作が可能なApache HTTP Serverが入っており，Perl 5.22以上が動作するUNIX系もしくはLinux系のOS
- 10MB以上のディスクスペース

依存関係:
- Digest::MD5
- JSON
- HTML::Entities
- Net::DNS
- LWP::UserAgent
- XML::Simple

同梱のモジュール:
- CGI::Session
- Digest::SHA::PurePerl
- List::MoreUtils
- Net::DNS::Lite

インストール手順:
1. GitHubレポジトリのReleasesから最新版をダウンロードし、ファイルを解凍してください。
2. インストール先のサーバーの設定を確認し、必要に応じて各CGIファイルの先頭の"#!/usr/bin/perl"を変更してください。
3. 必要なモジュールがサーバーに入っているか確認してください。無い場合はcpanm等でインストールします。
4. FTP転送ソフトを使って、testフォルダごとサーバーにアップロードします。
5. 各フォルダやファイルに、下記を参考にパーミッションを設定します。設定後にadmin.cgiにアクセスし本体の設定を行います。

アップデート手順:
1. 既存のtestフォルダを、ダウンロードしたtestフォルダで上書きしてください。
2. 必要に応じて各CGIファイルの先頭の"#!/usr/bin/perl"を変更してください。

パーミッション例:
[701] 親ディレクトリ(設定できる場合)
    [701] test/
        [700] admin/
            [600] *.pl
            [604] index.html (403用) 
        [701] datas/
            [604] *.*
            [604] index.html (403用) 
        [700] info/
            [700] .auth/
                [604] index.html (403用)
            [700] .ninpocho/
                [604] index.html (403用)
            [700] .session/
                [604] index.html (403用) 
            [700] .IP_List/
                [604] index.html (403用) 
            [600] index.html (403用) 
        [700] module/
            [600] *.pl
            [604] index.html (403用) 
        [700] plugin/
            [600] 0ch_*_utf8.pl
            [604] index.html (403用) 
        [700] plugin_conf/
            [600] 0ch_*.cgi
            [604] index.html (403用) 
        [700] perllib/
            [700] */
            [600] *.*
            [604] index.html (403用) 
        [700] *.cgi
        [604] index.html (403用) 

EXぜろちゃんねる初期設定：
1. admin.cgiにアクセスし、ログイン画面でユーザ名：Administrator、初期パスワード：zerochを入力してログインします。
2. 初期パスワードを変更します。ヘッダメニューの「ユーザー」→「Administrator」を選択し、任意のパスワードを設定してください。
3. 一度ログオフし、先ほど設定したパスワードで再度ログインします。
4. システム設定を行います。ヘッダメニューの「システム設定」→「基本設定」を選択し、各値を設定して設定ボタンを押してください。


## 使用方法

掲示板作成:
1. トップ画面のヘッダメニュー「掲示板」→「掲示板作成」を選択してください。
2. 各値を設定し、作成ボタンを押してください。
3. 「掲示板」画面へ戻り、一覧に作成した掲示板が追加されていれば成功です。

掲示板設定:
1. 掲示板一覧に表示されている掲示板名をクリックして、掲示板個別画面に入ります。
2. ヘッダメニューの「掲示板設定」を選択し、各値を設定してください。既存の設定をインポートする場合は「設定インポート」を選択してください。
3. ヘッダメニューの「各種編集」から、掲示板のヘッダ画面の編集や規制ユーザー、NGワードなどの設定を行えます。
   正規表現によるNGワード設定は、正規表現を十分理解した上で行ってください。


## 新機能

- 忍法帖
かつて2chに存在した機能を追加しました。ユーザーの動向を保存し、セッションIDで紐付けられるようになります。詳細はWiki参照。
- ワッチョイ
ユーザーのIPやUAなどからコテハンを生成し名前に付加します。自演防止などに使用できます。なおコテハンのIDは一週間で変わります。
- ユーザー認証
Captcha認証により、スクリプトやBotによる荒らしをブロックします。忍法帖と併用した場合、認証は初回のみとなります。
専ブラからの書き込みは非対応です。
- ユーザーコマンド
スレ主がコマンドを使えるようになりました。詳細はWiki参照。
- DNSBL拡充
Tor出口ノード遮断やVPN/Proxyの検出ができるようになりました。
- 書き込み追認
規制に引っかかった書き込みを、管理者が投稿追認できるようになりました。
- BBSMenu作成機能
bbsmenu.htmlとbbsmenu.jsonをボタン一つで作れるようになりました。専ブラからの一括登録にも対応しています。
- スレッドのコピー／移動
スレッドを他の掲示板へコピーしたり移動したりできます。
- アンカー修正
透過削除時にレスアンカーがズレなくなります。
- その他色々


## その他

Wiki: https://github.com/PrefKarafuto/ex0ch/wiki


## 不具合報告・改善要望について

レポジトリのIssues→New issueから、イシューを作成してください。


## ライセンス

本スクリプトのライセンスは本家ぜろちゃんねると同じ扱いとします。
以下は本家ぜろちゃんねる /readme/readme.txt からの引用です。

> 本スクリプトは自由に改造・再配布してもらってかまいません。また、本スクリプトによって出
> 力されるクレジット表示(バージョン表示)などの表示も消して使用してもらっても構いません。
> ただし、作者は本スクリプトと付属ファイルに関する著作権を放棄しません。また、作者は本ス
> クリプト使用に関して発生したいかなるトラブルにも責任を負いかねますのでご了承ください。

以上引用

<<<<<<< HEAD
■バージョンアップについて
  旧v0.7.x系列からのアップデートの際は、必ず事前にバックアップをとってください。
  testフォルダのうち、infoフォルダを除いたフォルダ・ファイルを既存のtestフォルダに上書き保存してください。
  （infoフォルダ中のerrmsg.cgiに限っては既存のファイルに上書きしてください）
  プラグインが入っていた場合、コードの書き換えを行って適宜プラグインの再設定を行う必要があります。
=======
>>>>>>> main

## 連絡先

樺太庁長官 ◆i5oJWq7F9Gmc
- E-mail: karafuto@na-cat.com
- 不具合報告・問い合わせ先: https://github.com/PrefKarafuto/ex0ch/issues


## 謝辞

本家ぜろちゃんねる開発者「精神衰弱 ◆kwSzvOHE」氏並びにぜろちゃんねるプラス開発者「windyakin ◆windyaking」氏
を初めとする両スクリプトの開発陣の方々、そして再開発に協力して頂いた皆様に心からの謝意を表します。